"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[877],{8969:function(e,r,t){t.d(r,{Z:function(){return i}});var n=t(5893),s=t(1924),a=t(1868);function i(e){var r=e.onMenuClick,t=e.title,i=a.I8.getCurrentUser();return(0,n.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200 h-20 flex items-center",children:(0,n.jsxs)("div",{className:"flex items-center justify-between px-6 w-full",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("button",{onClick:r,className:"lg:hidden p-2 rounded-md hover:bg-gray-100 mr-2",children:(0,n.jsx)(s.Z,{className:"h-6 w-6"})}),(0,n.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:t})]}),(0,n.jsx)("div",{className:"flex items-center space-x-4",children:(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:["Bienvenido, ",(null==i?void 0:i.name)||"Usuario"]})})]})})}},2116:function(e,r,t){t.d(r,{Z:function(){return o}});var n=t(5893),s=t(7294),a=t(1163),i=t(1868);function o(e){var r=e.children,t=(0,a.useRouter)(),o=(0,s.useState)(!0),c=o[0],l=o[1];return((0,s.useEffect)(function(){i.I8.isAuthenticated()?l(!1):t.push("/login")},[t]),c)?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,n.jsx)(n.Fragment,{children:r})}},8694:function(e,r,t){t.d(r,{Z:function(){return f}});var n=t(5893),s=t(1664),a=t.n(s),i=t(1163),o=t(1868),c=t(5491),l=t(8936),u=t(2656),d=t(8519),m=t(1203),h=t(9067);function f(e){var r,t,s,f,x=e.isOpen,g=e.onToggle,p=(0,i.useRouter)().pathname,v=function(){o.I8.logout(),window.location.href="/login"},y=[{name:"Dashboard",href:"/dashboard",icon:c.Z},{name:"Usuarios",href:"/usuarios",icon:l.Z},{name:"Transacciones",href:"/transacciones",icon:u.Z},{name:"Comercios",href:"/comercios",icon:d.Z},];return(0,n.jsxs)(n.Fragment,{children:[x&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:g}),(0,n.jsxs)("div",{className:"\n        fixed top-0 left-0 h-full w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out z-50\n        ".concat(x?"translate-x-0":"-translate-x-full","\n        lg:translate-x-0 lg:static lg:shadow-lg lg:flex-shrink-0\n      "),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between px-6 h-20 border-b border-gray-200 bg-gradient-to-r from-primary-600 to-primary-700",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center mr-3",children:(0,n.jsx)("span",{className:"text-primary-600 font-bold text-lg",children:"B"})}),(0,n.jsx)("h1",{className:"text-xl font-bold text-white",children:"Bancao Admin"})]}),(0,n.jsx)("button",{onClick:g,className:"lg:hidden p-2 rounded-md hover:bg-white hover:bg-opacity-20 transition-colors",children:(0,n.jsx)(m.Z,{className:"h-5 w-5 text-white"})})]}),(0,n.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,n.jsx)("nav",{className:"p-4",children:(0,n.jsx)("div",{className:"space-y-2",children:y.map(function(e){var r=e.icon,t=p===e.href;return(0,n.jsx)(a(),{href:e.href,className:"\n                      flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 cursor-pointer\n                      ".concat(t?"bg-primary-100 text-primary-700 shadow-sm border border-primary-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 hover:shadow-sm","\n                    "),onClick:function(){window.innerWidth<1024&&g()},children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(r,{className:"mr-3 h-5 w-5 ".concat(t?"text-primary-600":"text-gray-400")}),(0,n.jsx)("span",{className:"font-medium",children:e.name})]})},e.name)})})})}),(0,n.jsxs)("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsxs)("div",{className:"flex items-center px-3 py-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center mr-3",children:(0,n.jsx)("span",{className:"text-primary-600 font-semibold text-sm",children:(null===(r=o.I8.getCurrentUser())||void 0===r?void 0:null===(t=r.name)||void 0===t?void 0:t.charAt(0))||"U"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null===(s=o.I8.getCurrentUser())||void 0===s?void 0:s.name)||"Usuario"}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:(null===(f=o.I8.getCurrentUser())||void 0===f?void 0:f.email)||"usuario@email.com"})]})]})}),(0,n.jsxs)("button",{onClick:v,className:"flex items-center w-full px-4 py-2 text-sm font-medium text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-lg transition-colors border border-transparent hover:border-red-200",children:[(0,n.jsx)(h.Z,{className:"mr-3 h-4 w-4"}),"Cerrar Sesi\xf3n"]})]})]})]})}},1868:function(e,r,t){t.d(r,{I8:function(){return x}});var n=t(7568),s=t(7582);t(1876).Buffer;var a,i,o="auth_token",c="auth_user",l=function(){var e=localStorage.getItem(c);return e?JSON.parse(e):null},u=function(e,r){localStorage.setItem(o,e),localStorage.setItem(c,JSON.stringify(r))},d=function(){localStorage.removeItem(o),localStorage.removeItem(c)},m=function(){return!!localStorage.getItem(o)},h=(a=(0,n.Z)(function(e){var r,t,n,a,i,o;return(0,s.__generator)(this,function(s){switch(s.label){case 0:r=e.email,t=e.password,s.label=1;case 1:return s.trys.push([1,5,,6]),n="http://localhost:8080/api/",[4,fetch("".concat(n,"auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:t})})];case 2:if(!(a=s.sent()).ok)return[3,4];return[4,a.json()];case 3:return[2,s.sent()];case 4:return[2,null];case 5:return o=s.sent(),console.error("Error en autenticaci\xf3n:",o),[2,null];case 6:return[2]}})}),function(e){return a.apply(this,arguments)}),f=function(){d()},x={login:(i=(0,n.Z)(function(e,r){var t;return(0,s.__generator)(this,function(n){switch(n.label){case 0:return[4,h({email:e,password:r})];case 1:if(t=n.sent())return u(t.token,t.user),[2,{success:!0,user:t.user}];return[2,{success:!1,error:"Credenciales inv\xe1lidas"}]}})}),function(e,r){return i.apply(this,arguments)}),logout:f,isAuthenticated:m,getCurrentUser:l}},797:function(e,r,t){function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function s(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n(e,r)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.d(r,{Z:function(){return s}})},9638:function(e,r,t){t.d(r,{Z:function(){return s}});var n=t(8387);let s=(0,n.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},6615:function(e,r,t){t.d(r,{Z:function(){return s}});var n=t(8387);let s=(0,n.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},7119:function(e,r,t){t.d(r,{Z:function(){return s}});var n=t(8387);let s=(0,n.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}}]);